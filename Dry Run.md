# Dry-run of the entire proposed method
In this section, we provide a dry-run demonstration of the proposed fuzzy-ranking-aided ensemble-based segmentation method, called BLUE-Net, applied for liver and tumor segmentation from CT scans. This dry-run would help the common readers to understand the method in a better way. This dry-run's steps include generating confidence scores, merging these scores using the proposed Blumberg function-based ensemble procedure, and obtaining the final segmentation masks on test data.

The confidence or probability scores of the training and test images are generated by individual base models, and stored in their individual CSV files. \\
\autoref{tab:liversegres} and \autoref{tab:tumorsegres} in the main paper show the results of the selected base models.

\begin{table}[htb!]
    \centering
    \caption{Sample contents of the CSV file for the three base models showing the confidence scores of each pixel classes for: U-Net (\autoref{subtab:unet}), Link-Net (\autoref{subtab:linknet}) and FPN (\autoref{subtab:fpn}) }\label{tab:base_models}
    \begin{subtable}{0.4\linewidth}
      \centering
        
        \begin{tabular}{|c|c|}
        \hline
        Non-Mask Region & Mask Region  \\
        \hline
        0.9998  & 0.0002 \\
        0.9996  & 0.0004 \\
        0.9996  & 0.0003 \\
        0.2603  & 0.7397 \\
        0.2627  & 0.7373 \\
        0.0372	& 0.9627 \\
        \hline
        \end{tabular}
        \caption{U-Net}\label{subtab:unet}
    \end{subtable}
    
    \begin{subtable}{0.4\linewidth}
      \centering
      
        \begin{tabular}{|c|c|}
        \hline
        Non-Mask Region & Mask Region  \\
        \hline
        0.9988  & 0.0012 \\
        0.9975  & 0.0025 \\
        0.9986  & 0.0014 \\
        0.3486  & 0.6514 \\
        0.3412  & 0.6587 \\
        0.0757	& 0.9243 \\
        \hline
  \end{tabular}
   \caption{Link-Net}\label{subtab:linknet}
   
    \end{subtable} 
    \begin{subtable}{0.4\linewidth}
      \centering
       
        \begin{tabular}{|c|c|}
        \hline
        Non-Mask Region & Mask Region  \\
        \hline
        0.9999  & 0.0001 \\
        0.9999  & 0.0001 \\
        0.9999  & 0.0001 \\
        0.8362  & 0.1637 \\
        0.8454  & 0.1546 \\
        0.6683	& 0.3316 \\
        \hline
  \end{tabular}
    \caption{FPN}\label{subtab:fpn}
    \end{subtable}
\end{table}

####            U-Net
| Non-Mask Region | Mask Region |
|-----------------|-------------|
|     0.9998      |    0.0002   |
|     0.9996      |    0.0004   |
|     0.9996      |    0.0003   |
|     0.2603      |    0.7397   |
|     0.2627      |    0.7373   |
|     0.0372      |    0.9627   |


####           Link-Net            
| Non-Mask Region | Mask Region |
|-----------------|-------------|
|     0.9988      |    0.0012   |
|     0.9975      |    0.0025   |
|     0.9986      |    0.0014   |
|     0.3486      |    0.6514   |
|     0.3412      |    0.6587   |
|     0.0757      |    0.9243   |


####            FPN             
| Non-Mask Region | Mask Region |
|-----------------|-------------|
|      0.9999     |    0.0001   |
|      0.9999     |    0.0001   |
|      0.9999     |    0.0001   |
|      0.8362     |    0.1637   |
|      0.8454     |    0.1546   |
|      0.6683     |    0.3316   |
  
 
 




    
    
    
   

   


In \autoref{tab:base_models}, columns represent pixel classes (Non-Mask Region, Mask Region), and rows represent pixel values in the dataset. Here the tables show results for six randomly chosen samples.

Then using the Blumberg function in \autoref{eq:2} (in the main paper), we generate the fuzzy ranks for all the samples that belong to various pixel classes.

\begin{equation}
\label{eq: 7.1}
A_{1}=
    \begin{pmatrix}
         \begin{bmatrix}
              0.33338 & \;\;0.99952 \\
         \end{bmatrix}
         \\
         \begin{bmatrix}
              0.33342 & \;\;0.99921 \\
         \end{bmatrix}
         \\
         \begin{bmatrix}
              0.33341 & \;\;0.99930 \\
         \end{bmatrix}
         \\
         \begin{bmatrix}
              0.65764 & \;\;0.40332 \\
         \end{bmatrix}
         \\
         \begin{bmatrix}
              0.65558 & \;\;0.40409 \\
         \end{bmatrix}
         \\
         \begin{bmatrix}
              0.93073 & \;\;0.34181 \\
         \end{bmatrix}
    \end{pmatrix}
\end{equation}

\begin{equation}
\label{eq: 7.2}
A_{2}=
    \begin{pmatrix}
         \begin{bmatrix}
              0.33359 & \;\;0.99768 \\
         \end{bmatrix}
         \\
         \begin{bmatrix}
              0.33389 & \;\;0.99504 \\
         \end{bmatrix}
         \\
         \begin{bmatrix}
              0.33364 & \;\;0.99729 \\
         \end{bmatrix}
         \\
         \begin{bmatrix}
              0.58919 & \;\;0.43426 \\
         \end{bmatrix}
         \\
         \begin{bmatrix}
              0.59435 & \;\;0.43150 \\
         \end{bmatrix}
         \\
         \begin{bmatrix}
              0.86851 & \;\;0.35105 \\
         \end{bmatrix}
    \end{pmatrix}
\end{equation}

\begin{equation}
\label{eq: 7.3}
A_{3}=
    \begin{pmatrix}
         \begin{bmatrix}
              0.33334 & \;\;0.99998 \\
         \end{bmatrix}
         \\
         \begin{bmatrix}
              0.33334 & \;\;0.99997 \\
         \end{bmatrix}
         \\
         \begin{bmatrix}
              0.33334 & \;\;0.99998 \\
         \end{bmatrix}
         \\
         \begin{bmatrix}
              0.37418 & \;\;0.75328 \\
         \end{bmatrix}
         \\
         \begin{bmatrix}
              0.37164 & \;\;0.76381 \\
         \end{bmatrix}
         \\
         \begin{bmatrix}
              0.42795 & \;\;0.60122 \\
         \end{bmatrix}
    \end{pmatrix}
\end{equation}

The matrices $A_{1},\; A_{2}\; and\; A_{3}$ in \autoref{eq: 7.1}, \autoref{eq: 7.2} and \autoref{eq: 7.3} show sample fuzzy-ranks generated using \autoref{eq:2} (in the main paper) for U-Net, Link-Net and FPN base models, respectively. Each column represents a different pixel class (Non-Mask Region, Mask Region), whereas each row represents pixel values of an image from the dataset.

Now with the help of \autoref{eq: 3} and \autoref{eq: 4} (both defined in the main paper), we generate the fuzzy-rank sum and the complement of confidence factor sum as shown in \autoref{eq: 8} by matrix B and \autoref{eq: 9} by matrix C, respectively.

\begin{equation}
    \label{eq: 8}
    B=
    \begin{pmatrix}
        \begin{bmatrix}
            1.00031 & \;\;2.99718 \\
        \end{bmatrix}
        \\
        \begin{bmatrix}
            1.00065 & \;\;2.99422 \\
        \end{bmatrix}
        \\
        \begin{bmatrix}
            1.00039 & \;\;2.99657 \\
        \end{bmatrix}
        \\
        \begin{bmatrix}
            1.62101 & \;\;1.59086 \\
        \end{bmatrix}
        \\
        \begin{bmatrix}
            1.62157 & \;\;1.59940 \\
        \end{bmatrix}
        \\
        \begin{bmatrix}
            2.22719 & \;\;1.29408 \\
        \end{bmatrix}
    \end{pmatrix}
\end{equation}
\\
\begin{equation}
    \label{eq: 9}
    C=
    \begin{pmatrix}
        \begin{bmatrix}
            0.33343 & \;\;0.99953 \\
        \end{bmatrix}
        \\
        \begin{bmatrix}
            0.33350 & \;\;0.99903 \\
        \end{bmatrix}
        \\
        \begin{bmatrix}
            0.33350 & \;\;0.99943 \\
        \end{bmatrix}
        \\
        \begin{bmatrix}
            0.60507 & \;\;0.53630 \\
        \end{bmatrix}
        \\
        \begin{bmatrix}
            0.60447 & \;\;0.53467 \\
        \end{bmatrix}
        \\
        \begin{bmatrix}
            0.75200 & \;\;0.37100 \\
        \end{bmatrix}
    \end{pmatrix}
\end{equation}

Both in matrix B in \autoref{eq: 8} and matrix C in \autoref{eq: 9}, columns, as usual, represent pixel classes, whereas rows represent pixel values.

To obtain the final decision score, we perform element-wise multiplication between the fuzzy-rank sum matrix B and the complement of confidence factor sum matrix C, and the resultant matrix is used to generate the final predictions of our ensemble approach. We use the \autoref{eq: 5} to get the result represented by matrix D in \autoref{eq: 10}.
\begin{equation}
    \label{eq: 10}
    D=
    \begin{pmatrix}
        \begin{bmatrix}
            0.33353 & \;\;2.99577 
        \end{bmatrix}
        \\
        \begin{bmatrix}
            0.33372 & \;\;2.99131 
        \end{bmatrix}
        \\
        \begin{bmatrix}
            0.33363 & \;\;2.99486 
        \end{bmatrix}
        \\ 
        \begin{bmatrix}
            0.98082 & \;\;0.85318 
        \end{bmatrix}
        \\
        \begin{bmatrix}
            0.98019 & \;\;0.85515 
        \end{bmatrix}
        \\
        \begin{bmatrix}
            1.67485 & \;\;0.48010 
        \end{bmatrix}
    \end{pmatrix}
\end{equation}

In the end, to get the final prediction of the proposed BLUE-Net model, we use \autoref{eq: 6}. Hence, based on it, the final prediction for:
\[ pixel-value_{1} \;=\; \min (0.33353,\:  2.99577) = 0.33353 = Non-Mask\: Region \]
\vspace*{-6.0mm}
\[pixel-value_{2} \;=\; \min (0.33372,\: 2.99131) = 0.33372 = Non-Mask\: Region \]
\[pixel-value_{3} \;=\; \min (0.33363,\: 2.99486) = 0.33363 = Non-Mask\: Region \]
%\[... \]
\[pixel-value_{4} \;=\; \min (0.98082,\: 0.85318) = 0.85318 = Mask\: Region \]
\[pixel-value_{5} \;=\; \min (0.98019,\: 0.85515) = 0.85515 = Mask\: Region \]
\[pixel-value_{6} \;=\; \min (1.67485,\: 0.48010) = 0.48010 = Mask\: Region \]
\\
This is how our proposed ensemble model, called BLUE-Net, generated segmentation masks of liver and tumor from CT scan images.
